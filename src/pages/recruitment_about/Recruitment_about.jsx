import React, { useState, useEffect } from "react";
import style from "./RecruitmentAbout.module.css";
import Layout from "../../layout/layout";
import Statistics from "../home/statistics-home/Statistics-home";
import '../../assets/styles/global.css';
import { FaCheckCircle } from "react-icons/fa";

export default function Recruitment_about() {
  const list = [
    {
      number: 1,
      title: "ุชุฎููุต ุงุฌุฑุงุกุงุช ุงูุงุณุชูุฏุงู",
      disk: "ูุชู ุงููุณุงุนุฏุฉ ูู ุชุฎููุต ุงูุงุฌุฑุงุกุงุช ุงูุฎุงุตุฉ ุจุงูุนุงูู",
    },
    {
      number: 2,
      title: "ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ",
      disk: "ุงุฎุชุฑ ุงูุนุงูู ุงูุฐู ุชุฑูุฏุฉ ุจูุงุก ุนูู ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ",
    },
    {
      number: 3,
      title: "ุฑุณูู ุงูุฅุณุชูุฏุงู",
      disk: "ูุชู ุฏูุน ุฑุณูู ุงูุงุณุชูุฏุงู ุจุงุณุชุฎุฏุงู ุงุญุฏู ุจูุงุจุงุช ุงูุฏูุน",
    },
    {
      number: 4,
      title: "ูุตูู ุงูุนูุงูุฉ",
      disk: "ุชุตู ุงูุนูุงูุฉ ุงููุฎุชุงุฑุฉ ุงูู ุงููุทุงุฑ",
    },
    {
      number: 5,
      title: "ุงุณุชูุงู ุงูุนูุงูุฉ",
      disk: "ูุชู ุงุณุชูุงู ุงูุนูุงูุฉ ุงูุฎุงุตุฉ ุจู ูู ููุชุจ ุฑูุงูุฏ",
    },
    {
      number: 6,
      title: "ุถูุงู 3 ุดููุฑ",
      disk: "ูุถูู ูู ุงูุนูุงูุฉ ููุฏุฉ 3 ุดููุฑ",
    },
  ];

const messages = [
  { from: "user", text: "๐ฌ ุนุงูุฒ ุฃุนุฑู ุงูุฑุงุชุจ ุจูุชุญุฏุฏ ุฅุฒุงูุ" },
  { from: "office", text: "๐ผ ูุชู ุงูุฅุชูุงู ุนูู ุงูุฑุงุชุจ ุจุงูุชูุณูู ูุน ุตุงุญุจ ุงูุนูู ูุงูุนุงููุฉ ุงูููุฒููุฉ." },

  { from: "user", text: "๐ฌ ูู ุงูููุชุจ ุจูุชุงุจุน ุงูุนูุฏุ" },
  { from: "office", text: "๐ ุงูููุชุจ ูุชุงุจุน ุงูููู ุฏูุฑููุง ููุชุฃูุฏ ูู ุงูุชุฒุงู ุงูุฌููุน ุจุงูุนูุฏ ุงููุจุฑู." },

  { from: "user", text: "๐ฌ ูู ููู ุดุฑูุท ุฅุถุงููุฉุ" },
  { from: "office", text: "๐ ุชู ุชูุถูุญ ูุงูุฉ ุงูุดุฑูุท ูุงูุฃุญูุงู ูุน ุงูุญูุงุธ ุนูู ุญููู ููุงุฌุจุงุช ูู ุงูุฃุทุฑุงู." },

  { from: "user", text: "๐ฌ ุทูุจ ุจุนุฏ ูุฏู ุฃุนูู ุฅููุ" },
  { from: "office", text: "โ ูู ูุง ุนููู ูุนูู ููุท ุงุฎุชูุงุฑ ุงูุนุงููุฉ ุงูููุงุณุจุฉ ูู." },
];

  const [chat, setChat] = useState([]);
  const [currentIndex, setCurrentIndex] = useState(0);
  const [typing, setTyping] = useState(false);
  const [progres,setProgres] = useState(0);

  useEffect(() => {
    if (currentIndex < messages.length) {
      setTyping(true);

      const timer = setTimeout(() => {
        setChat((prev) => [...prev, messages[currentIndex]]);
        setTyping(false);
        setCurrentIndex((prev) => prev + 1);
        setProgres(progres + 100 / messages.length);
        console.log(progres);
      }, 2000);

      return () => clearTimeout(timer);
    }
  }, [currentIndex]);

  return (
    <Layout>
      <div className={style.RecruitmentAbout}>
        <header className={`page-header ${style.recHeader} `}>
          <div className={` ${style.row} container `}>
            <h2>ุชุนุงูุฏ ุงูุฅุณุชูุฏุงู</h2>
            <p>
              ููุชุจ ุฃุณูุง ููุงุณุชูุฏุงู ูููุฏู ูู ุฎุฏูุงุช ุงูุนูุงูุฉ ุงูููุฒููุฉ ุจุฃูุถู ุฌูุฏุฉุ ูุน
              ูุฑุงุนุงุฉ ุงูููุงููู ูุงูุชุดุฑูุนุงุช ุงููุญููุฉ ูุงูุฏูููุฉุ ููุฏ ุชุนุงูู ุงูููุชุจ ูุน
              ุนุฏุฏ ูุจูุฑ ูู ุฃููุฑ ุงูุฎุจุฑุงุก ุจููุงุชุจ ุงูุงุณุชูุฏุงู ุงูุฅูููููุฉ ูุงูุนุงูููุฉุ ููุง
              ููุชุฒู ุงูููุชุจ ุจุงูููุงููู ูุงูุชุดุฑูุนุงุช ุงูุชู ูุตุช ุนูููุง ูุฒุงุฑุฉ ุงูุนููุ
              ููุฒุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ูุงูุชูููุฉ ุงูุงุฌุชูุงุนูุฉุ ูุฐูู ูุชุบุทูุฉ ุงุญุชูุงุฌุงุช
              ุงูููุงุทู ุงูุณุนูุฏูุ ูููุชุฃูุฏ ูู ุฃุฏุงุก ุงูุนุงูู ุงูููุฒูู ููุงุฌุจุงุชู ุจุฃูุถู
              ุตูุฑุฉุ ูุญุตููู ูู ุงูููุงุจู ุนูู ุญูููู ูุงููุฉุ ูุฎุฏูุงุช ุงูููุชุจ ุชูุบุทู ุฌููุน
              ุงููุฏู ุจุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ.{" "}
            </p>
          </div>
        </header>
        <section className='container s-padding'>
          <div className={style.chatBox}>
            <div className={style.progres}>
            <span style={{width: `${progres}%`}}>
            </span>
              </div>
            {chat.map((msg, idx) => (
              <div
                key={idx}
                className={`${style.message} ${msg.from === "office" ? style.office : style.user
                  }`}
              >
                {msg.text}
              </div>
            ))}

            {typing && (
              <div className={`${style.message} ${style.office}`}>
                <span className={style.typing}>...</span>
              </div>
            )}
          </div>

          {currentIndex === messages.length && (
            <div className={style.finalStep}>
              <button className={style.btn}>
                <FaCheckCircle /> ุฅุตุฏุงุฑ ุงูุนูุฏ ุงูุขู
              </button>
            </div>
          )}
        </section>

        <div className={style.recProc}>
          <div className={` ${style.row} container `}>
            <h3> ุนูููุงุช ุงูุฅุณุชูุฏุงู </h3>
            <div className={style.recGrid}>
              {list.map((box) => (
                <div>
                  <h4> {box.number} </h4>
                  <span> {box.title} </span>
                  <p> {box.disk} </p>
                </div>
              ))}
            </div>
          </div>
          <svg xmlns="htpp://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path
              fill="#2D5C7F"
              fill-Opacity=".5"
              d="M0,224L1440,0L1440,0L0,0Z"
            ></path>
            <path
              fill="#2D5C7F"
              fill-Opacity=".5"
              d="M0,32L1440,256L1440,0L0,0Z"
            ></path>
          </svg>
        </div>

        <Statistics />
      </div>
    </Layout>
  );
}
